<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Accueil</title>
        <link rel="stylesheet" href="../styles/styleGeneral.css" />
    </head>
    <body>
        <h1>Qui êtes vous ?</h1>
        <p>Pour que l'on se connaise mieux,<br> se serais bien de commancer par me dire qui tu est !</p>
        <!-- sinon ont peut aussi mettre une methode="monFormulaire" action="POST"-->
        <form id="name-form" >
            <label for="userFistName">Prénom :</label>
            <input type="text" id="nom" name="user_fistName" required>
            <br>
            <br>
            <label for="userLastName">Nom :</label>
            <input type="text" id="nom" name="user_lastName" required>
            <br>
            <br>
            <!-- <label for="message">Message :</label>
            <textarea id="message" name="user_message"></textarea> -->
  
            <button type="submit">Envoyer</button>
        </form>

        <p id="reponse">réponse</p>
    </body>
    <script>
    document.getElementById('name-form').addEventListener('submit', function(e) {
        e.preventDefault(); 

        const formData = new URLSearchParams(new FormData(this));

        fetch('/name-form', {
            method: 'POST',
            body: formData,
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
        })
        .then(response => response.text())
        .then(data => {
            // Ici, on modifie la page actuelle sans la recharger
            document.getElementById('reponse').innerHTML += `<p>${data}</p>`;
        });
    });
    </script>
</html>